{% extends "base.html" %}

{% block title %}Assistive Level Waiting{% endblock %}

{% block content %}
  <div class="assistive-waiting-container">
    <h1>Please wait...</h1>
    <p>The invoice is being prepared.</p>
    <div class="loader"></div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      fetch("/assistive_process", { method: "POST" })
        .then(response => response.json())
        .then(data => {
          window.location.href = data.redirect_url;
        })
        .catch(error => console.error("Error during processing:", error));
    });
  </script>
{% endblock %}
